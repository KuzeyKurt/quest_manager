### Тест-кейсы для раздела «Доска задач» (`task-board.tsx`)

| ID тест-кейса | Название тест-кейса | Шаги | Ожидаемый результат | Негативный результат | Статус (пройдено/не пройдено) |
| --- | --- | --- | --- | --- | --- |
| TB-001 | Отображение загрузки задач | 1. Открыть страницу команды с валидным `teamId`. 2. Наблюдать состояние страницы до ответа API `/api/tasks?teamId=...`. | Отображается текст «Загрузка задач...», после получения данных показывается доска с колонками «To Do», «In Progress», «Complete». | Сообщение загрузки не скрывается после получения данных, либо доска не отображается. | Не пройдено |
| TB-002 | Успешная загрузка задач по команде | 1. Открыть страницу с `teamId`, для которого в БД есть задачи с разными `status` (`todo`, `inprogress`, `complete`). 2. Дождаться завершения загрузки. | Все задачи с `status="todo"` отображаются только в колонке «To Do», с `inprogress` — в «In Progress», с `complete` — в «Complete». | Задачи отображаются не в той колонке, часть задач не отображается или дублируется. | Не пройдено |
| TB-003 | Обработка ошибки загрузки задач | 1. Имитировать ошибку API `/api/tasks?teamId=...` (например, вернуть 500). 2. Открыть страницу с доской задач. | Сообщение «Загрузка задач...» пропадает, доска не ломается (страница не падает), консоль содержит лог ошибки `[v0] Fetch tasks error:`. | Бесконечная загрузка, краш компонента, отсутствие логирования ошибки. | Не пройдено |
| TB-004 | Открытие диалога создания задачи | 1. Открыть доску задач. 2. Нажать кнопку «Новая задача». | Открывается `TaskDialog` в режиме создания (без предзаполненных данных задачи). | Диалог не открывается, либо поля заполнены данными существующей задачи. | Не пройдено |
| TB-005 | Успешное создание новой задачи | 1. Нажать «Новая задача». 2. Заполнить обязательные поля (например, `title`, `description`, `priority`, `status`) в `TaskDialog`. 3. Сохранить задачу (вызывает POST `/api/tasks`). | Новый объект задачи возвращается из API, добавляется в state, отображается в соответствующей колонке внизу списка. | Задача не появляется на доске, добавляется в неверную колонку, либо создаётся с некорректным порядком. | Не пройдено |
| TB-006 | Создание задачи с ошибкой сервера | 1. Нажать «Новая задача». 2. Заполнить поля. 3. Имитировать ответ API POST `/api/tasks` с ошибкой (4xx/5xx). 4. Сохранить. | Ошибка не приводит к крашу страницы; задача не добавляется в список; пользователь может попытаться повторить сохранение. | Компонент падает, на доске появляется «призрачная» задача, не существующая в БД. | Не пройдено |
| TB-007 | Открытие диалога редактирования задачи | 1. На загруженной доске нажать «Редактировать» (или клик по карточке, если так реализовано) для существующей задачи. | Открывается `TaskDialog`, поля диалога заполняются данными выбранной задачи. | Открывается диалог без данных или с данными другой задачи. | Не пройдено |
| TB-008 | Успешное редактирование задачи | 1. Открыть диалог редактирования задачи. 2. Изменить `title` и/или `description` и сохранить (PATCH `/api/tasks/{id}`). | Ответ API содержит обновлённую задачу, она заменяет старую в списке, на карточке видны новые значения. | На доске отображаются старые данные, дублируется задача или исчезает после редактирования. | Не пройдено |
| TB-009 | Удаление задачи с подтверждением | 1. Нажать кнопку удаления на карточке задачи. 2. В появившемся confirm нажать «ОК/Да». | Выполняется DELETE `/api/tasks/{id}`, после успешного ответа задача исчезает из списка. | Задача остаётся в списке, либо происходит краш при удалении. | Не пройдено |
| TB-010 | Отмена удаления задачи | 1. Нажать кнопку удаления на карточке задачи. 2. В confirm нажать «Отмена/Cancel». | DELETE запрос не отправляется, задача остаётся на доске без изменений. | Задача удаляется или пропадает визуально несмотря на отмену. | Не пройдено |
| TB-011 | Перетаскивание задачи внутри одной колонки | 1. Иметь минимум две задачи в одном статусе (например, в «To Do»). 2. Перетащить одну задачу мышью выше/ниже другой в той же колонке. | Визуальный порядок задач меняется согласно перетаскиванию; отправляется POST `/api/tasks/reorder` с `taskId`, `newStatus` и `newOrder` (индекс новой позиции). | Порядок задач не меняется, отправляется запрос с некорректным `newOrder`, либо после обновления странички порядок возвращается к старому. | Не пройдено |
| TB-012 | Перемещение задачи в другую колонку (смена статуса) | 1. Взять задачу из «To Do». 2. Перетащить её в зону колонки «In Progress» (над областью колонки, не над другой задачей). | Статус задачи меняется на `inprogress`; задача исчезает из колонки «To Do» и появляется в колонке «In Progress» внизу списка; отправляется POST `/api/tasks/reorder` с `newStatus="inprogress"` и `newOrder` = количество задач в новой колонке до добавления. | Статус не меняется, задача отображается в обеих колонках или исчезает; запрос на reorder не отправляется. | Не пройдено |
| TB-013 | Попытка перетаскивания на недопустимую цель | 1. Взять задачу и перетащить её в область вне колонок либо на элемент, который не является задачей/колонкой (`over` = null). | Перетаскивание завершается без изменений статуса и порядка; состояние задач остаётся прежним. | Статус или порядок задач меняются, несмотря на отсутствие корректной цели. | Не пройдено |
| TB-014 | Перетаскивание задачи на другую задачу с другим статусом | 1. Взять задачу в колонке «To Do». 2. Перетащить её на карточку в колонке «Complete». | Поскольку статусы различаются, порядок и статус активной задачи не меняются (ветка с reorder по задачам не выполняется). | Статус некорректно меняется, либо задача оказывается в колонке цели с неверным порядком. | Не пройдено |
| TB-015 | Отображение перетаскиваемой задачи (`DragOverlay`) | 1. Начать перетаскивать любую задачу. | Отображается `DragOverlay` с мини-карточкой (`TaskCard`) активной задачи, при отпускании перетаскивание завершается и overlay исчезает. | Overlay не отображается или не исчезает после завершения перетаскивания, карточка в overlay не соответствует активной задаче. | Не пройдено |
| TB-016 | Повторное открытие диалога после закрытия | 1. Открыть диалог создания задачи, затем закрыть его без сохранения. 2. Снова нажать «Новая задача». | Диалог снова открывается в режиме «создание» с пустыми полями, прошлые данные не подставляются. | В диалоге остаются введённые ранее, но несохранённые данные. | Не пройдено |
| TB-017 | Корректная инициализация при смене `teamId` | 1. Открыть доску задач с одним `teamId`. 2. Переключиться на другую команду (смена `teamId` пропсом). | При смене `teamId` выполняется новый запрос `/api/tasks?teamId=...`, список задач обновляется в соответствии с новой командой. | Отображается старый список задач от предыдущей команды, либо не происходит новый запрос. | Не пройдено |



